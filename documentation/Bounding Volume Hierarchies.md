–ê–ª–≥–æ—Ä–∏—Ç–º **Bounding Volume Hierarchies** (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ **BVH**) ‚Äî —ç—Ç–æ **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏—Ö –æ–±—ä—ë–º–æ–≤**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è** –º–µ–∂–¥—É —Å–ª–æ–∂–Ω—ã–º–∏ 3D-–æ–±—ä–µ–∫—Ç–∞–º–∏.

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–∏–∑–∏–∫–µ, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, ray tracing (—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ª—É—á–µ–π), –∏ —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–ª–ª–∏–∑–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **—Å–ª–æ–∂–Ω—ã–º–∏ –º–µ—à–∞–º–∏ (mesh)** ‚Äî –º–æ–¥–µ–ª—è–º–∏ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤.

---

## üî§ –ü–µ—Ä–µ–≤–æ–¥:

- **Bounding** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–π
    
- **Volume** ‚Äî –æ–±—ä—ë–º
    
- **Hierarchy** ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è
    

üëâ **Bounding Volume Hierarchies (BVH)** = "–ò–µ—Ä–∞—Ä—Ö–∏—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏—Ö –æ–±—ä—ë–º–æ–≤"

---

## üß† –°—É—Ç—å BVH:

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—à –∏–∑ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤) –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ **Bounding Volume** ‚Äî –ø—Ä–æ—Å—Ç—É—é —Ñ–æ—Ä–º—É (—á–∞—â–µ –≤—Å–µ–≥–æ ‚Äî AABB, —Å–º. –Ω–∏–∂–µ), –∫–æ—Ç–æ—Ä–∞—è **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤–µ—Å—å –æ–±—ä–µ–∫—Ç**.

- –û–±—ä–µ–∫—Ç —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏,
    
- –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —Å–≤–æ–π Bounding Volume,
    
- –≠—Ç–∏ Bounding Volumes –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ**.
    

üì¶ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ–±—ä–µ–∫—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –≤–∏–¥–µ **–¥–µ—Ä–µ–≤–∞ –æ–±—ä—ë–º–æ–≤**, –≥–¥–µ:

- –í–µ—Ä—à–∏–Ω—ã (nodes) —Å–æ–¥–µ—Ä–∂–∞—Ç Bounding Volumes.
    
- –õ–∏—Å—Ç—å—è (leaves) —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏).
    
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É–∑–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç Bounding Volume, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π —Å–≤–æ–∏—Ö –ø–æ—Ç–æ–º–∫–æ–≤.
    

---

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ **Bounding Volume**?

üî§ **Bounding Volume** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:

|–¢–∏–ø|–û–±—ä—è—Å–Ω–µ–Ω–∏–µ|
|---|---|
|**AABB (Axis-Aligned Bounding Box)**|–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π –∫–æ—Ä–æ–±, –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –ø–æ –æ—Å—è–º. –ü—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π.|
|**OBB (Oriented Bounding Box)**|–ö–æ—Ä–æ–±, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º —É–≥–ª–æ–º. –¢–æ—á–Ω–µ–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ.|
|**Bounding Sphere**|–°—Ñ–µ—Ä–∞, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∞—è –æ–±—ä–µ–∫—Ç. –£–¥–æ–±–Ω–æ –¥–ª—è –æ–∫—Ä—É–≥–ª—ã—Ö —Ñ–æ—Ä–º.|
|**k-DOP (Discrete Oriented Polytope)**|–í—ã–ø—É–∫–ª—ã–π –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–∏–∫ –∏–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.|
## ü™ú –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç BVH?

### ‚úÖ 1. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ (BVH Construction)**

–°–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–µ—Ä–µ–≤–æ. –ï—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

#### üî∑ Top-Down (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)

- –ù–∞—á–∏–Ω–∞–µ–º —Å Bounding Volume, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–≥–æ **–≤—Å—é –≥–µ–æ–º–µ—Ç—Ä–∏—é**.
    
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –¥–µ–ª–∏–º –Ω–∞–±–æ—Ä –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ (—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤) –Ω–∞ 2 (–∏–ª–∏ –±–æ–ª–µ–µ) –ø–æ–¥–≥—Ä—É–ø–ø—ã.
    
- –î–ª—è –∫–∞–∂–¥–æ–π —Å–æ–∑–¥–∞—ë–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ Bounding Volumes.
    

#### üî∑ Bottom-Up (—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)

- –°–Ω–∞—á–∞–ª–∞ –∫–∞–∂–¥—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π Bounding Volume.
    
- –ó–∞—Ç–µ–º –æ–Ω–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ–ø–∞—Ä–Ω–æ –≤ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã–µ Bounding Volumes.
    
- –ü–æ–≤—Ç–æ—Ä—è–µ–º, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –æ–¥–∏–Ω –æ–±—â–∏–π –æ–±—ä–µ–º –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ.
    

#### üî∑ SAH (Surface Area Heuristic)

- –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ä–∞–∑–±–∏–µ–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **–ø–ª–æ—â–∞–¥—å Bounding Volume –º–∏–Ω–∏–º–∞–ª—å–Ω–∞**.
    
- –≠—Ç–æ –±–æ–ª–µ–µ –∑–∞—Ç—Ä–∞—Ç–Ω—ã–π, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥.
    

---

### ‚úÖ 2. **–ü–æ–∏—Å–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π (Collision Traversal)**

–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞:

- –°—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è **Bounding Volumes –≤ –≤–µ—Ä—à–∏–Ω–∞—Ö –¥–≤—É—Ö –¥–µ—Ä–µ–≤—å–µ–≤**.
    
- –ï—Å–ª–∏ –æ–Ω–∏ **–Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è** ‚Üí **–≤—Å—ë –ø–æ–¥–¥–µ—Ä–µ–≤–æ –º–æ–∂–Ω–æ –æ—Ç–±—Ä–æ—Å–∏—Ç—å**.
    
- –ï—Å–ª–∏ **–ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è** ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–¥–æ—á–µ—Ä–Ω–∏–º —É–∑–ª–∞–º** –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º.
    
- –ï—Å–ª–∏ –¥–æ—Ö–æ–¥–∏–º –¥–æ **–ª–∏—Å—Ç—å–µ–≤** ‚Üí –¥–µ–ª–∞–µ–º **—Ç–æ—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤** (Narrow Phase).
    

‚úÖ –≠—Ç–æ **—Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫**, –ø–æ—Ç–æ–º—É —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä—ë–º–æ–≤ –ù–ï –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è.

---

## üìä –ü—Ä–∏–º–µ—Ä:

### –û–±—ä–µ–∫—Ç A (–º–µ—à –∏–∑ 1000 —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤) vs –û–±—ä–µ–∫—Ç B (–µ—â—ë 1000 —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤)

üî¥ –ë–µ–∑ BVH:

- –ü—Ä–∏–¥—ë—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å **1,000,000 –ø–∞—Ä —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤** (1000 √ó 1000)
    

üü¢ –° BVH:

- –¢–æ–ª—å–∫–æ **100‚Äì500 —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π** –±–ª–∞–≥–æ–¥–∞—Ä—è **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–º—É –æ—Ç—Å–µ—á–µ–Ω–∏—é**.
    

---

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ BVH:

|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ|–ü–æ—è—Å–Ω–µ–Ω–∏–µ|
|---|---|
|‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –æ—Ç—Å–µ—á–µ–Ω–∏–µ|–ë–æ–ª—å—à–∏–µ —á–∞—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É.|
|‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å|–•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ —Å –º–∏–ª–ª–∏–æ–Ω–∞–º–∏ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤.|
|‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤|–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AABB, OBB, —Å—Ñ–µ—Ä—É –∏ —Ç.–¥.|
|‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ray tracing|BVH –ø–æ–º–æ–≥–∞–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏–µ –ª—É—á–µ–π –≤ –æ–±—ä–µ–∫—Ç—ã.|
## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

|–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫|–ü–æ—è—Å–Ω–µ–Ω–∏–µ|
|---|---|
|‚ùå –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ ‚Äî –∑–∞—Ç—Ä–∞—Ç–Ω–æ–µ|–û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SAH.|
|‚ùå –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –¥–∏–Ω–∞–º–∏–∫–∏|–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –º–µ–Ω—è–µ—Ç —Ñ–æ—Ä–º—É/–ø–æ–ª–æ–∂–µ–Ω–∏–µ, BVH –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å.|
|‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ—Ä–µ–≤–∞|–ü–ª–æ—Ö–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –¥–∞—ë—Ç –º–∞–ª–æ –≤—ã–≥–æ–¥—ã.|
## üéÆ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∏–≥—Ä–æ–≤—ã—Ö –¥–≤–∏–∂–∫–∞—Ö:

### ‚úÖ Unreal Engine / Chaos

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç BVH (–Ω–∞ –æ—Å–Ω–æ–≤–µ AABB) –¥–ª—è:
    
    - –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–ª–ª–∏–∑–∏–π.
        
    - Ray tracing.
        
    - –ë—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–µ—à–∞–º.
        

### ‚úÖ Unity

- Physics –∏ DOTS –∏—Å–ø–æ–ª—å–∑—É—é—Ç BVH –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ collider'–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ **Mesh Collider**).
    

---

## üîö –ü–æ–¥—ã—Ç–æ–∂–∏–º

**Bounding Volume Hierarchies (BVH)**:

- –≠—Ç–æ **–¥–µ—Ä–µ–≤–æ**, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª ‚Äî Bounding Volume (–æ–±—ã—á–Ω–æ AABB),
    
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è **—É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π**,
    
- –ü–æ–º–æ–≥–∞–µ—Ç –æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ —á–∞—Å—Ç–∏ —Å—Ü–µ–Ω—ã –±–µ–∑ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫,
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö: –∫–æ–ª–ª–∏–∑–∏—è, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ª—É—á–µ–π.
    

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É:

- –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Å—Ö–µ–º—É BVH-–¥–µ—Ä–µ–≤–∞,
    
- –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä BVH-–æ–±—Ö–æ–¥–∞,
    
- –°—Ä–∞–≤–Ω–∏—Ç—å BVH —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Octree, Grid).

Bounding Volume Hierarchies